<html>
<head>
	<title>CS 4331-002: Project 1</title>
	<meta name="description" content="Simon Woldemichael's CS 4331-002 Special Topics in CS: Virtual Reality - Project 1">
	<meta name="keywords" content="Virtual,Reality,Project">
	<meta name="author" content="Simon Woldemichael">
	
	<!--Include a-frame-->
    <script src="libs/aframe.min.js"></script>
	
	<!--Include a-frame extras plugin-->
	<script src="http://cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
	
	<!--Include helper script for skybox-->
	<script src="libs/sky.js"></script>
	
</head>
<body>
	<!--Inlude helper script to position the sun-->
	<script src="utils/sunSetter.js"></script>
	
<!--Create a scene-->
<a-scene physics="gravity: -10">

	<!--Load assets early-->
	<a-assets>
		<img src="images/grid.png" id="grid" crossorigin="anonymous">
		<img src="images/floor.jpg" id="floor" crossorigin="anonymous">
		<img src="images/ceiling.jpg" id="ceiling" crossorigin="anonymous">
		<img src="images/wall-texture.jpg" id="wall-texture" crossorigin="anonymous">
		<a-asset-item id="bed" src="models/bed/scene.gltf">
		<a-asset-item id="dog" src="models/dog/scene.gltf">
		<a-asset-item id="tree" src="models/tree/scene.gltf">
	</a-assets>
	
    <!--Load the sky and bind the sunSetter to it-->
	<a-entity id="sky" geometry="primitive: sphere; radius: 200;" material="shader: sky; side: back" sun-position-setter>
		<!--Position the sun-->
		<a-entity id="orbit">
			<a-animation attribute="rotation" from="0 0 0" to="0 90 0" dur="1" repeat="1"></a-animation>
		</a-entity>
	</a-entity>
	
	<!--Position an entity to house the camera-->
	<!--kinematic-body is not compatible with "acceleration"-->
	<a-entity position="32 0 4" camera="userHeight: 1.6" universal-controls kinematic-body wasd-controls="acceleration: 500">
		<!--Define a raycaster to track the position of the mouse (i.e. where the user is looking-->
		<a-entity raycaster="far: 150; objects: .intersectable" cursor geometry="primitive: ring; radiusOuter: 0.015;
						  radiusInner: 0.01; segmentsTheta: 32" material="color: #283644; shader: flat" position="0 0 -0.75"></a-entity>
	</a-entity>
	
	<!--Sideyard swimming pool with wave generator-->
	<a-ocean width="20" depth="10" density="40" position="0 .25 40"></a-ocean>
	<!--Tree model-->
	<a-entity gltf-model="#tree" position="8 0 40" rotation="0 90 0" scale=".05 .05 .05"></a-entity>
	
	<!--Plane to prevent physics objects from falling through the map-->
	<a-plane static-body position="0 0 0" rotation="-90 0 0" width="100" height="100" depth="1" material="src: #grid; repeat: 100 100; transparent: true; metalness:5; roughness:5;"></a-plane>	
	
	<!--Begin building the scene of home-->
	<!-- Floor and ceiling-->
	<a-plane id="floor" material="src: #floor; side: double; repeat: 20 20" height="50" width="50" position="0 .1 0" rotation="-90 0 0"></a-plane>
	<a-plane id="floor" material="src: #ceiling; side: double; repeat: 10 10" height="50" width="50" position="0 13 0" rotation="-90 0 0"></a-plane>
	
	<!--Walls that cannot be walked through-->
	<a-box color="#39BB82"
             width="15" height="5" depth="3"
             position="8 2.5 -5"
             static-body></a-box>
      <a-box color="#39BB82"
             width="15" height="5" depth="3"
             position="8 2.5 5"
             static-body></a-box>
			 
	<!--Models for the bedroom-->
	<a-entity gltf-model="#bed" position="-17 0 20" rotation="0 90 0" scale=".06 .06 .06"></a-entity>
</a-scene>
</body>
</html>
